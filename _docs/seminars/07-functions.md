---
title: 7 &mdash; Функции
permalink: /07/
---


# На прошлом занятии
* Запись файлов

# План этого занятия
* Функции: начало


# Функции

Часто бывает удобно один раз написать логически завершённый блок кода и при необходимости запускать его, а не копировать многократно.

Оформляется блок функции так:


```python
def say_hello():
    print('Hello!')
```

Здесь: `def` — ключевое слово (сокр. define); `say_hello` — название функции; содержимое блока (в данном случае один вызов `print()`) — со стандартным отступом.


После того, как мы определили функцию, мы можем её вызывать:

```python
>>> say_hello()
'Hello!'
```


Функции могут брать параметры на вход, в этом случае они указываются в скобках после названия функции:

```python
def say_hello(username, age):
    if len(username) > 0:
        print('Hello, ' + username)
    else:
        print('No username given...')
    if age > 0:
        print('age =', age)
```

Имена переменных, объявленные внутри функции, не будут видны в остальной программе. `x` в функции и `x` в остальной программе — это разные переменные.

Вызовем эту функцию дважды:

```python
>>> say_hello("Vasya", 42)
Hello, Vasya
age = 42
>>> say_hello("", 8)
No usename given...
age = 8
```


Функции также могут возвращать результат выполненных операций с помощью оператора `return`:

```python
def choose_max(a, b):
    if a > b:
        return a
    else:
        return b
```


Найдём максимальное из двух чисел:

```python
>>> max_five_three = choose_max(5, 3)
>>> print(choose_max(13, 14))
14
```

`return` прекращает выполнения функции

```python
def say_hello():
    print('Hello!')
```

Теперь все программы должны быть написаны так, чтобы код разбивался по функциям. Функции должны быть не длиннее примерно 10 строк. В практике написания кода на питоне принято, чтобы сначала определялись все функции, а потом последовательно вызывались внутри одной - главной - функции, которую обычно называют `main()`

Совсем правильной композицией кода было бы сначала определить все функции, потом определить главную функцию, а потом вызвать её внутри такой конструкции:

```python
if __name__ == '__main__':
    main()
```

# Пример программы

Ниже представлена пример того, как обычно структурированы программы на питоне:

```python
"""Простая программа-калькулятор"""


OPERATORS = ['+', '-', '*', '/']
OPS_STR = ', '.join(OPERATORS)


def get_number(nonzero):
    """Запросить у пользователя число и вернуть его
    
    nonzero : аргумент типа bool, если False то не проверять является ли число
        нулём, в обратном случае спрашивать до тех пор, пока не будет введено
        отличное от нуля число
    """
    x = float(input('Введите число: '))
    if not nonzero:
        return x
    while x == 0:
        x = float(input('На ноль делить нельзя, введите другое число: '))
    return x


def get_operator():
    """Запросить у пользователя оператор

    Спрашивает у пользователя оператор до тех пор, пока не будет введён один из
    поддердиваемых программой
    """
    while True:
        x = input('Введите оператор: ')
        if x in OPERATORS:
            return x
        print(x, ' - не оператор, выберите из списка:', OPS_STR)


def main():
    a = get_number(False)
    op = get_operator()
    b = get_number(True)
    print(a, op, b, '=', end=' ')
    if op == '+':
        print(a + b)
        return
    if op == '-':
        print(a - b)
        return
    if op == '*':
        print(a * b)
        return
    # op == '/'
    print(a / b)


if __name__ == '__main__':
    main()

```


# Домашнее задание




**Выполните задание пройдя по ссылке в GitHub Classroom:**

- 1 группа: — <>
- 2 группа: — <>
- 3 группа: — <>
- 4 группа: — <>
